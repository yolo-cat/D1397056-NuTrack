# NuTrack è³‡æ–™çµæ§‹ç¸½è¦½

é€™æ˜¯ NuTrack ç‡Ÿé¤Šè¿½è¹¤ iOS æ‡‰ç”¨ç¨‹å¼çš„å®Œæ•´è³‡æ–™çµæ§‹æ¸…å–®ã€‚

## ğŸ“Š æ ¸å¿ƒè³‡æ–™æ¨¡å‹ç¸½çµ

### è³‡æ–™çµæ§‹çµ±è¨ˆ
- **çµæ§‹é«” (Structs)**: 8 å€‹
- **é¡åˆ¥ (Classes)**: 1 å€‹  
- **åˆ—èˆ‰ (Enums)**: 1 å€‹
- **æ“´å±• (Extensions)**: 4 å€‹

## ğŸ—ï¸ ä¸»è¦è³‡æ–™çµæ§‹æ¸…å–®

### 1. ç‡Ÿé¤Šç›¸é—œçµæ§‹ (NutritionModels.swift)
```swift
struct NutritionInfo           // ç‡Ÿé¤Šè³‡è¨Š
struct MealItem               // é¤é»é …ç›®
struct DailyGoal             // æ¯æ—¥ç›®æ¨™
struct NutrientData          // ç‡Ÿé¤Šç´ è³‡æ–™
struct NutritionData         // ä¸»è¦ç‡Ÿé¤Šè³‡æ–™
enum MealType                // é¤é»é¡å‹åˆ—èˆ‰
```

### 2. é£Ÿç‰©è¨˜éŒ„çµæ§‹ (MockData.swift)
```swift
struct FoodLogEntry          // é£Ÿç‰©è¨˜éŒ„æ¢ç›®
```

### 3. ä½¿ç”¨è€…ç®¡ç† (SimpleUserManager.swift)
```swift
class SimpleUserManager      // ä½¿ç”¨è€…ç®¡ç†é¡åˆ¥ (ObservableObject)
```

### 4. è¨ˆç®—å·¥å…· (WeightCalculations.swift)
```swift
struct WeightBasedNutrition  // é«”é‡åŸºç¤ç‡Ÿé¤Šè¨ˆç®—
```

## ğŸ”„ è³‡æ–™æµå‘åœ–

```
ä½¿ç”¨è€…è¼¸å…¥ â†’ SimpleUserManager â†’ é«”é‡è¨ˆç®— â†’ ç‡Ÿé¤Šç›®æ¨™
                â†“
    å€‹äººåŒ– DailyGoal â† WeightBasedNutrition
                â†“
    é¸æ“‡é¤é» â†’ MealItem â†’ NutritionInfo
                â†“
    å»ºç«‹è¨˜éŒ„ â†’ FoodLogEntry
                â†“
    çµ±è¨ˆåˆ†æ â†’ NutritionData (é¡¯ç¤ºé€²åº¦)
```

## ğŸ“‹ å„çµæ§‹é«”å±¬æ€§ä¸€è¦½

### NutritionInfo (ç‡Ÿé¤Šè³‡è¨Š)
- calories: Int (å¡è·¯é‡Œ)
- carbs: Int (ç¢³æ°´åŒ–åˆç‰©)
- protein: Int (è›‹ç™½è³ª) 
- fat: Int (è„‚è‚ª)

### MealItem (é¤é»é …ç›®)
- id: UUID (å”¯ä¸€è­˜åˆ¥ç¢¼)
- name: String (é¤é»åç¨±)
- type: MealType (é¤é»é¡å‹)
- time: String (ç”¨é¤æ™‚é–“)
- nutrition: NutritionInfo (ç‡Ÿé¤Šè³‡è¨Š)

### MealType (é¤é»é¡å‹)
- breakfast ("æ—©é¤")
- lunch ("åˆé¤") 
- dinner ("æ™šé¤")
- icon: String (åœ–ç¤ºåç¨±)

### DailyGoal (æ¯æ—¥ç›®æ¨™)
- calories: Int (ç†±é‡ç›®æ¨™)
- carbs: Int (ç¢³æ°´ç›®æ¨™)
- protein: Int (è›‹ç™½è³ªç›®æ¨™)
- fat: Int (è„‚è‚ªç›®æ¨™)

### NutrientData (ç‡Ÿé¤Šç´ è³‡æ–™)
- current: Int (ç›®å‰æ”å–)
- goal: Int (ç›®æ¨™æ”å–)
- unit: String (å–®ä½)
- progress: Double (é€²åº¦)
- percentage: Int (ç™¾åˆ†æ¯”)

### NutritionData (ä¸»è¦ç‡Ÿé¤Šè³‡æ–™)
- caloriesConsumed: Int (å·²æ”å–ç†±é‡)
- caloriesBurned: Int (å·²æ¶ˆè€—ç†±é‡)
- caloriesGoal: Int (ç†±é‡ç›®æ¨™)
- carbs: NutrientData (ç¢³æ°´è³‡æ–™)
- protein: NutrientData (è›‹ç™½è³ªè³‡æ–™)
- fat: NutrientData (è„‚è‚ªè³‡æ–™)

### FoodLogEntry (é£Ÿç‰©è¨˜éŒ„)
- id: UUID (å”¯ä¸€è­˜åˆ¥ç¢¼)
- time: String (è¨˜éŒ„æ™‚é–“)
- meals: [MealItem]? (é¤é»æ¸…å–®ï¼ŒèˆŠç‰ˆ)
- type: MealType? (é¤é»é¡å‹ï¼ŒèˆŠç‰ˆ)
- nutrition: NutritionInfo? (ç‡Ÿé¤Šè³‡è¨Šï¼Œæ–°ç‰ˆ)

### SimpleUserManager (ä½¿ç”¨è€…ç®¡ç†)
- isLoggedIn: Bool (ç™»å…¥ç‹€æ…‹)
- currentUsername: String (ä½¿ç”¨è€…åç¨±)
- isLoading: Bool (è¼‰å…¥ç‹€æ…‹)
- userWeight: Double (ä½¿ç”¨è€…é«”é‡)
- carbsGoal: Double (ç¢³æ°´ç›®æ¨™)
- proteinGoal: Double (è›‹ç™½è³ªç›®æ¨™)
- fatGoal: Double (è„‚è‚ªç›®æ¨™)

## ğŸ§® è¨ˆç®—é‚è¼¯

### ç†±é‡è¨ˆç®—å…¬å¼
```
ç¸½ç†±é‡ = (ç¢³æ°´åŒ–åˆç‰© Ã— 4) + (è›‹ç™½è³ª Ã— 4) + (è„‚è‚ª Ã— 9)
```

### é«”é‡åŸºç¤ç‡Ÿé¤Šç›®æ¨™
```
ç¢³æ°´åŒ–åˆç‰© = é«”é‡ Ã— 3.0 g/kg
è›‹ç™½è³ª = é«”é‡ Ã— 1.5 g/kg
è„‚è‚ª = é«”é‡ Ã— 0.9 g/kg
```

### ç‡Ÿé¤Šç´ ç¯„åœ
```
ç¢³æ°´åŒ–åˆç‰©: 1-6 g/kg é«”é‡
è›‹ç™½è³ª: 0.8-2.2 g/kg é«”é‡
è„‚è‚ª: 0.8-1 g/kg é«”é‡
```

## ğŸ“± æ‡‰ç”¨å ´æ™¯

### 1. ä½¿ç”¨è€…è¨»å†Šæµç¨‹
1. SimpleUserManager ç®¡ç†ç™»å…¥ç‹€æ…‹
2. è¼¸å…¥é«”é‡è³‡æ–™
3. WeightBasedNutrition è¨ˆç®—å»ºè­°ç›®æ¨™
4. å»ºç«‹å€‹äººåŒ– DailyGoal

### 2. è¨˜éŒ„é£²é£Ÿæµç¨‹
1. é¸æ“‡ MealType (æ—©/åˆ/æ™šé¤)
2. é¸æ“‡æˆ–è¼¸å…¥ MealItem
3. ç³»çµ±æå– NutritionInfo
4. å»ºç«‹ FoodLogEntry è¨˜éŒ„

### 3. è¿½è¹¤é€²åº¦æµç¨‹
1. æ”¶é›†æ‰€æœ‰ FoodLogEntry
2. è¨ˆç®—ç¸½ç‡Ÿé¤Šæ”å–
3. æ›´æ–° NutritionData 
4. é¡¯ç¤ºé€²åº¦å’Œå‰©é¤˜ç›®æ¨™

## ğŸ”§ æŠ€è¡“ç‰¹é»

- **éŸ¿æ‡‰å¼è¨­è¨ˆ**: ä½¿ç”¨ @Published å’Œ ObservableObject
- **å‹åˆ¥å®‰å…¨**: å¼·å‹åˆ¥çš„ Swift çµæ§‹
- **è¨ˆç®—å±¬æ€§**: å³æ™‚è¨ˆç®—ç‡Ÿé¤Šçµ±è¨ˆ
- **è³‡æ–™é©—è­‰**: å…§å»ºæ•¸å€¼é©—è­‰
- **æ¨¡çµ„åŒ–**: æ¸…æ¥šåˆ†é›¢ä¸åŒåŠŸèƒ½
- **æ“´å±•æ€§**: æ”¯æ´æœªä¾†åŠŸèƒ½æ“´å±•

## ğŸ“„ ç›¸é—œæ–‡ä»¶

- [è©³ç´°è³‡æ–™çµæ§‹æ–‡ä»¶](./è³‡æ–™çµæ§‹æ–‡ä»¶.md) - ä¸­æ–‡ç‰ˆå®Œæ•´èªªæ˜
- [Data Structures Documentation](./DATA_STRUCTURES.md) - English version
- [GEMINI.md](./GEMINI.md) - å°ˆæ¡ˆæ¦‚è¿°
- [MVP_Implementation_Guide.md](./MVP_Implementation_Guide.md) - å¯¦ä½œæŒ‡å—

---
*æœ€å¾Œæ›´æ–°: 2025å¹´1æœˆ*